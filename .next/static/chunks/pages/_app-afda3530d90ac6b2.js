(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{6840:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return t(1279)}])},300:function(e,r,t){"use strict";t.d(r,{C:function(){return i},d:function(){return l}});var n=t(5893),s=t(7294);let a=(0,s.createContext)(void 0),o=[{username:"snafu",password:"random@123",name:"Snafu User",role:"admin",id:"user-1"},{username:"sid",password:"random@1234",name:"Sid User",role:"viewer",id:"user-2"}];function i(e){let{children:r}=e,[t,i]=(0,s.useState)(null),[l,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("arbitrage_gods_user");if(e)try{i(JSON.parse(e))}catch(e){console.error("Failed to parse saved user:",e),localStorage.removeItem("arbitrage_gods_user")}c(!1)},[]);let u=async(e,r)=>{c(!0),await new Promise(e=>setTimeout(e,1e3));let t=o.find(t=>t.username===e&&t.password===r);if(t){let e={id:t.id,username:t.username,name:t.name,role:t.role};i(e),localStorage.setItem("arbitrage_gods_user",JSON.stringify(e))}else throw c(!1),Error("Invalid credentials");c(!1)},d=e=>{var r;return!!t&&((null===(r=({admin:["view","add","remove","export","archive","manage_users","manage_accounts"],viewer:["view"]})[t.role])||void 0===r?void 0:r.includes(e))||!1)};return(0,n.jsx)(a.Provider,{value:{user:t,loading:l,signIn:u,signOut:()=>{i(null),localStorage.removeItem("arbitrage_gods_user")},hasPermission:d,isAdmin:()=>(null==t?void 0:t.role)==="admin",canManageUsers:()=>d("manage_users"),canManageAccounts:()=>d("manage_accounts"),canExport:()=>d("export"),canArchive:()=>d("archive")},children:r})}function l(){let e=(0,s.useContext)(a);if(void 0===e)throw Error("useSimpleAuth must be used within a SimpleAuthProvider");return e}},1279:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return i}});var n=t(5893);t(7133);var s=t(300),a=t(7294);class o extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Component error:",e,r),window.gtag&&window.gtag("event","exception",{description:e.message,fatal:!1})}render(){if(this.state.hasError){var e;return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsxs)("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[(0,n.jsx)("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:(0,n.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 text-center mb-2",children:"Something went wrong"}),(0,n.jsx)("p",{className:"text-gray-600 text-center mb-4",children:(null===(e=this.state.error)||void 0===e?void 0:e.message)||"An unexpected error occurred"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full btn btn-primary",children:"Reload Dashboard"}),(0,n.jsx)("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"w-full btn btn-secondary",children:"Try Again"})]}),!1]})})}return this.props.children}constructor(e){super(e),this.state={hasError:!1,error:null}}}function i(e){let{Component:r,pageProps:t}=e;return(0,n.jsx)(o,{children:(0,n.jsx)(s.C,{children:(0,n.jsx)(r,{...t})})})}},7133:function(){}},function(e){var r=function(r){return e(e.s=r)};e.O(0,[774,179],function(){return r(6840),r(2937)}),_N_E=e.O()}]);